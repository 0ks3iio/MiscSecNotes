## 验证是否存在CDN
通过在线的多地ping，通过每个地区ping的结果得到IP。  
看这些IP是否一致，如果都是一样的，极大可能不存在cdn，但不绝对。  
如果这些IP大多数都不太一样或者规律性很强，可以尝试查询这些IP的归属地，判断是否存在CDN。  
http://www.just-ping.com/  
http://ping.chinaz.com/  
https://ping.aizhan.com/  
http://tools.fastweb.com.cn/Index/Ping  

## www法

以前我用CDN的时候有个习惯，只让WWW域名使用cdn，秃域名不适用，为的是在维护网站时更方便，不用等cdn缓存。所以试着把目标网站的www去掉，ping一下看ip是不是变了？  

## 二级域名法

目标站点一般不会把所有的二级域名放cdn上，比如试验性质的二级域名。Google site一下目标的域名，看有没有二级域名出现，挨个排查，确定了没使用cdn的二级域名后，本地将目标域名绑定到同ip，能访问就说明目标站与此二级域名在同一个服务器上。  
不在同一服务器也可能在同C段，扫描C段所有开80端口的ip，挨个试。  
如果google搜不到也不代表没有，我们拿常见的二级域名构造一个字典，猜出它的二级域名。比如mail、cache、img。  

## nslookup法

大部分CDN提供商只针对国内市场，而对国外市场几乎是不做CDN，所以有很大的几率会直接解析到真实IP。其实这个方法根本不用上国外vpn，因为你上国外vpn的ping本质，就是使用国外dns(那台vpn服务器使用的dns)查询域名而已，所以只需要命令：  

`nslookup www.xxxx.com 8.8.8.8`  
提示：要找国外冷门DNS才行，像谷歌的DNS，国内用的人越来越多了，很多CDN提供商都把谷歌DNS作为国内市场之一，所以，你查到的结果会和国内差不了多少。或者查询域名的NS记录，其域名记录中的MX记录，TXT记录等很有可能指向的是真实ip或同C段服务器。   

## 工具法
这里指的是查找域名历史解析记录，因为域名在上CDN之前用的IP，很有可能就是CDN的真实源IP地址，有专门的网站提供域名解析历史记录查询。  
这个工具 http://toolbar.netcraft.com 据说会记录网站的ip变化情况，通过目标网站的历史ip地址就可以找到真实ip。没亲自测试，想必不是所有的网站都能查到。    
例：http://toolbar.netcraft.com/site_report?url=http://www.waitalone.cn    
www.crimeflare.com  针对 CloudFlare 防护的域名 

## 墙外法

很多国内的CDN没有节点对国外服务，国外的请求会直接指向真实ip。有人说用国外NS和或开国外VPN，但这样成功率太低了。我的方法是用国外的多节点ping工具，例如just-ping，全世界几十个节点ping目标域名，很有可能找到真实ip。  
域名：http://www.just-ping.com/  

## 钓鱼法

不管网站怎么CDN，其向用户发的邮件一般都是从自己服务器发出来的。以wordpress为例，假如我要报复一个来我这捣乱的坏蛋，坏蛋使用了 CDN，我要找到它的真实ip以便DDOS他。我的方法是在他博客上留言，再自己换个名回复自己，然后收到他的留言提醒邮件，就能知道发邮件的服务器ip 了。如果他没开提醒功能，那就试试他是不是开启了注册功能，wordpress默认是用邮件方式发密码的。  
思考一下，还有哪些信息是不通过CDN返回给用户的呢？  

rss订阅/忘记密码：一般也会得到真实的IP地址，通过rss订阅的方式，可以查找到订阅的消息中真实IP。   

看订阅邮件：有的服务器本地自带sendmail（邮件传输代理程序）注册之后，会主动发一封邮件给我们，打开邮件的源代码,你就能看到服务器的真实ip了。有的大型互联网网站会有自己的Mailserver。但是应该会在一个网段，扫下C段地址就行。   
web版的邮件管理，可以通过常看网页源代码看到IP。  